# path: ops/CI.md
# CI (배포 제외) — 빌드·스캔·푸시만

## 트리거
- `v` 또는 `v-rc.` 태그 푸시 시 실행(백엔드/프런트 각각)
- 브랜치 푸시는 선택(원하면 develop에만 실행)

## Backend 파이프라인 단계
1) 체크아웃
2) 버전 추출: `git-sha`, `tag`(있으면)
3) 컨테이너 빌드(보안 스캔 포함)
4) ECR 로그인
5) 이중 태깅: `:<git-sha>` + `:v...`(태그가 있을 때)
6) ECR 푸시
7) 산출물 기록: 이미지 리포/태그/다이제스트 메모

## Frontend 파이프라인 단계(배포 스텝 제외)
1) 체크아웃
2) 빌드(정적 산출물)
3) 산출물 패키징(후속 S3 업로드용)
4) 참고: 실제 업로드/스위치는 0-5에서 추가

## 실패 기준
- 스캔 Critical/High 발견 시 실패(경고로 갈지 실패로 할지 추후 조정)
- 빌드 실패/푸시 실패 시 즉시 실패

## 로그·추적
- 모든 단계 콘솔 로그를 보관
- 이미지 다이제스트/태그를 `ops/RELEASE.md`의 릴리즈 메모와 연결
